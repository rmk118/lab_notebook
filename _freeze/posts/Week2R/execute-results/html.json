{
  "hash": "ae3670871a0a8a5252d75e4d70926692",
  "result": {
    "markdown": "---\ntitle: 'Week 2 in R'\ndate: '2023-06-15'\ncategories: ['Week 2', 'R']\ndescription: 'My activities for the week'\nexecute: \n  message: false\n  warning: false\neditor_options: \n  chunk_output_type: console\n---\n\n\nNote: I continually refined my code, so some of the older or now-unnecessary code cells below are set to \"eval = FALSE\" so that the code will still be visible but will not be evaluated and disrupt the output of later cells.\n\n## Monday, June 12\n\n**All set to eval = FALSE**\nLoad packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(dplyr)\n```\n:::\n\n\nLooking at 22564_UNION_FSCS_SVCAT (one out of five .csv files in the folder shared by Dr. Deyle)\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#read data\nsvcat <- read.csv(\"~/Downloads/lab_notebook/data/22564_UNION_FSCS_SVCAT.csv\")\n\n#view the first six rows of data\nhead(svcat)\n\n#different overviews of the data\nsummary(svcat)\nglimpse(svcat)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#filter to only species of interest - reduces it from 94632 observations to 21425\nscallops <- svcat %>% \n  filter(SCIENTIFIC_NAME==\"Placopecten magellanicus (sea scallop)\" | \n           SCIENTIFIC_NAME ==\"Placopecten magellanicus (sea scallop clapper)\")\n\nscallops <- scallops %>% \n  mutate(name = SCIENTIFIC_NAME,\n         cruise6 = as.factor(CRUISE6),\n         cruise = as.factor(CRUISE),\n         sex = as.factor(CATCHSEX),\n         stratum = as.factor(STRATUM),\n         .keep = \"unused\")\n\nsummary(scallops)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nscallops <- scallops %>% \n  mutate(name = recode(name, \"Placopecten magellanicus (sea scallop)\" = \"scallop\", \"Placopecten magellanicus (sea scallop clapper)\" = \"clapper\"))\n\nsummarise_all(scallops,n_distinct)\n\n#All have sex = 0, means unknown sex\n#SVSPP is species, listed as either 401 (scallop) or 400 (clammer), redundant info to species\n\n#Remove unnecessary variables\nscallops <- scallops %>% \n  select(-c(\"sex\", \"STATUS_CODE\", \"SVSPP\"))\n\n#ggplot(scallops, aes(x = cruise)) + geom_bar()\n#ggplot(scallops, aes(x = cruise6)) + geom_bar()\n#ggplot(scallops, aes(x = stratum)) + geom_bar()\n```\n:::\n\n\n# Tuesday and Wednesday (June 13 and 14)\n\nLoad packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse) #rather than importing separately\n```\n:::\n\n\nSet-up (from June 12)\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#read data\nsvcat <- read.csv(\"~/Downloads/lab_notebook/data/22564_UNION_FSCS_SVCAT.csv\")\n\n#filter to only species of interest - reduces it from 94632 observations to 21425\nscallops <- svcat %>% \n  filter(SCIENTIFIC_NAME==\"Placopecten magellanicus (sea scallop)\" | \n           SCIENTIFIC_NAME ==\"Placopecten magellanicus (sea scallop clapper)\")\n\n#turn categorical variables into factors\nscallops <- scallops %>% \n  mutate(name = SCIENTIFIC_NAME,\n         cruise6 = as.factor(CRUISE6),\n         cruise = as.factor(CRUISE),\n         sex = as.factor(CATCHSEX),\n         stratum = as.factor(STRATUM),\n         .keep = \"unused\")\n\n#shorten for clarity\nscallops <- scallops %>% \n  mutate(name = recode(name, \"Placopecten magellanicus (sea scallop)\" = \"scallop\", \n                       \"Placopecten magellanicus (sea scallop clapper)\" = \"clapper\"))\n\n#Remove unnecessary/redundant variables: all entries are listed as unknown sex (sex=0), \n# all have the same status code (10), and SVSPP corresponds with name (401 = scallop, \n# 400 = clappers)\nscallops <- scallops %>% \n  select(-c(\"sex\", \"STATUS_CODE\", \"SVSPP\"))\n```\n:::\n\n\nI worked on turning the data into an actual time series:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#read the file that has the season and year associated with each cruise\ncruises <- read.csv(\"~/Downloads/lab_notebook/data/22564_SVDBS_CRUISES.csv\")\n\n#select the relevant variables\ncruises <- cruises %>% \n  select(c(\"CRUISE6\",\"SEASON\",\"YEAR\")) %>% \n  mutate(cruise6 = as.factor(CRUISE6), .keep=\"unused\")\n\n#combine with the existing dataframe\nscallops <- left_join(scallops, cruises, by=\"cruise6\")\n\nas_tibble(scallops)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 21,425 × 12\n     TOW STATION ID         EXPCA…¹ EXPCA…² CATCH…³ name  cruise6 cruise stratum\n   <int>   <int> <chr>        <int>   <dbl> <chr>   <chr> <fct>   <fct>  <fct>  \n 1     1       1 197703063…       4     0.3 \" \"     scal… 197703  177    06370  \n 2     2       2 197703063…       3     0.1 \" \"     scal… 197703  177    06370  \n 3     3       3 197703063…       2     0.3 \" \"     scal… 197703  177    06370  \n 4     1       4 197703063…       4     0.9 \" \"     scal… 197703  177    06380  \n 5     4       5 197703063…      12     1.7 \" \"     scal… 197703  177    06370  \n 6     5       6 197703063…      22     4.6 \" \"     scal… 197703  177    06370  \n 7     1       8 197703064…       1     0.1 \" \"     scal… 197703  177    06420  \n 8     1      13 197703065…       2     0.3 \" \"     scal… 197703  177    06500  \n 9     2      14 197703065…       7     0   \" \"     clap… 197703  177    06500  \n10     2      14 197703065…    1897   154.  \" \"     scal… 197703  177    06500  \n# … with 21,415 more rows, 2 more variables: SEASON <chr>, YEAR <int>, and\n#   abbreviated variable names ¹​EXPCATCHNUM, ²​EXPCATCHWT, ³​CATCH_COMMENT\n```\n:::\n:::\n\n\n# Thursday (June 15)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(lubridate)\n```\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}