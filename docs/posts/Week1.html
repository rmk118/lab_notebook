<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ruby Krasnow">
<meta name="dcterms.date" content="2023-06-09">
<meta name="description" content="My first week on the job! Lots of getting organized, reading papers, and learning/refreshing my knowledge of Git, GitHub, R Markdown, Python, and Quarto. We also had our first programming workshop and attended the 16th Annual Student-Organized Bioinformatics Symposium.">

<title>Ruby’s Lab Notebook - Summer 2023 - Week 1 in Words</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../posts/Week1.html">Project Updates</a></li><li class="breadcrumb-item"><a href="../posts/Week1.html">Week 1 in Words</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Ruby’s Lab Notebook - Summer 2023</a> 
    </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Resources</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Resources/Papers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Relevant Papers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Resources/EDM.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Intro to EDM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Resources/ScallopResources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Scallop Links</span></a>
  </div>
</li>
          <li class="sidebar-item">
 <span class="menu-text">Resources/exploringR.html</span>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Project Updates</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../posts/Week1.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Week 1 in Words</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../posts/Week2words.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 2 in Words</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../posts/Week2R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 2 in R</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#tuesday-june-6th" id="toc-tuesday-june-6th" class="nav-link active" data-scroll-target="#tuesday-june-6th">Tuesday, June 6th</a>
  <ul class="collapse">
  <li><a href="#papers" id="toc-papers" class="nav-link" data-scroll-target="#papers">Papers</a></li>
  <li><a href="#building-this-notebook" id="toc-building-this-notebook" class="nav-link" data-scroll-target="#building-this-notebook">Building this notebook</a>
  <ul class="collapse">
  <li><a href="#git-and-github" id="toc-git-and-github" class="nav-link" data-scroll-target="#git-and-github">Git and GitHub</a></li>
  <li><a href="#quarto-and-markdown" id="toc-quarto-and-markdown" class="nav-link" data-scroll-target="#quarto-and-markdown">Quarto and Markdown</a></li>
  </ul></li>
  <li><a href="#goalsfuture-work" id="toc-goalsfuture-work" class="nav-link" data-scroll-target="#goalsfuture-work">Goals/Future Work</a></li>
  </ul></li>
  <li><a href="#wednesday-june-7" id="toc-wednesday-june-7" class="nav-link" data-scroll-target="#wednesday-june-7">Wednesday, June 7</a></li>
  <li><a href="#thursday-june-8" id="toc-thursday-june-8" class="nav-link" data-scroll-target="#thursday-june-8">Thursday, June 8</a>
  <ul class="collapse">
  <li><a href="#brite-reu-trainings-workshops" id="toc-brite-reu-trainings-workshops" class="nav-link" data-scroll-target="#brite-reu-trainings-workshops">BRITE REU trainings &amp; workshops</a></li>
  <li><a href="#edm" id="toc-edm" class="nav-link" data-scroll-target="#edm">EDM</a></li>
  </ul></li>
  <li><a href="#friday-june-9" id="toc-friday-june-9" class="nav-link" data-scroll-target="#friday-june-9">Friday, June 9</a>
  <ul class="collapse">
  <li><a href="#python-practice" id="toc-python-practice" class="nav-link" data-scroll-target="#python-practice">Python Practice</a></li>
  <li><a href="#urop-bbq" id="toc-urop-bbq" class="nav-link" data-scroll-target="#urop-bbq">UROP BBQ</a></li>
  <li><a href="#edm-meeting" id="toc-edm-meeting" class="nav-link" data-scroll-target="#edm-meeting">EDM &amp; Meeting</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Week 1 in Words</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Week 1</div>
    <div class="quarto-category">Events</div>
    <div class="quarto-category">Reading</div>
  </div>
  </div>

<div>
  <div class="description">
    My first week on the job! Lots of getting organized, reading papers, and learning/refreshing my knowledge of Git, GitHub, R Markdown, Python, and Quarto. We also had our first programming workshop and attended the 16th Annual Student-Organized Bioinformatics Symposium.
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Ruby Krasnow </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 9, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="tuesday-june-6th" class="level1">
<h1>Tuesday, June 6th</h1>
<section id="papers" class="level2">
<h2 class="anchored" data-anchor-id="papers">Papers</h2>
<p>I spent much of today reading the papers that Dr.&nbsp;Deyle provided related to EDM and quantitative fisheries. The EDM papers included applications of the approach to specific case studies, as well as the mathematical background. For example, <span class="citation" data-cites="sugihara_detecting_2012">(<a href="#ref-sugihara_detecting_2012" role="doc-biblioref">Sugihara et al. 2012</a>)</span> is the foundational paper describing the use of EDM to detect causality through convergent cross-mapping (CCM).</p>
<p>I also familiarized myself with recent modeling studies related to the Atlantic sea scallop fishery. The economic value of the scallop fishery and the availability of high-quality time series data make scallops a good choice for meaningful applied data science. There have been various models created to estimate biomass (stock assessments), estimate natural mortality, and to develop an Integrated Assessment Model to inform fishery management under changing oceanographic conditions. However, these models depend on assumptions (especially about stock-recruitment relationships) that may not be justified. EDM could potentially provide new insights into the factors that impact scallop abundance without needing to make such assumption.</p>
<p>There are also many interesting spatial dynamics to consider, particularly related to the rotational management plans implemented by the New England Fishery Management Council. Another potential area of investigation relates to new research by Pousse et al., <span class="citation" data-cites="pousse_juvenile_2023">(<a href="#ref-pousse_juvenile_2023" role="doc-biblioref">2023</a>)</span> indicating that ocean acidification depresses the growth of juvenile Atlantic sea scallops. This research highlights the need for accurate forecasting of scallop populations under projected acidification conditions in order to ensure the continued prosperity of the fishery.</p>
</section>
<section id="building-this-notebook" class="level2">
<h2 class="anchored" data-anchor-id="building-this-notebook">Building this notebook</h2>
<section id="git-and-github" class="level3">
<h3 class="anchored" data-anchor-id="git-and-github">Git and GitHub</h3>
<p>Unfortunately, I had to spend several hours today wrangling with Git and GitHub in order to create the new repository for this notebook and successfully connect it to GitHub. The main issues were related to inconsistent authentication protocols (HTTPS vs.&nbsp;ssh) between my GitHub account, GitHub CLI, and local repo. Eventually, I resolved the issues and successfully link the local and remote directories and deploy this notebook as a GitHub pages site associated with the repository.</p>
</section>
<section id="quarto-and-markdown" class="level3">
<h3 class="anchored" data-anchor-id="quarto-and-markdown">Quarto and Markdown</h3>
<p>It has been several years since I last worked in Markdown, and I reviewed the basic syntax: headers, italics, bullet points, inserting links, etc. My previous experience using Markdown syntax was in R Markdown, but for this lab notebook I decided to learn Quarto. <a href="https://quarto.org/">Quarto</a> is an “open-source scientific and technical publishing system” that is used by academics to create static and dynamic documents, personal websites, CVs, books, and other media. Called the next generation of R Markdown, knowing how to use Quarto will be a valuable skill for this REU project as well as future research endeavors.</p>
</section>
</section>
<section id="goalsfuture-work" class="level2">
<h2 class="anchored" data-anchor-id="goalsfuture-work">Goals/Future Work</h2>
<ol type="1">
<li>Finish reading the all of the quantitative fisheries papers that Dr.&nbsp;Deyle provided</li>
<li>Create a blog page (blog = lab notebook website) to collect and organize my list of relevant papers</li>
<li>EDM
<ol type="a">
<li>Create an “Intro to EDM” blog page where I can summarize my understanding of EDM and associated analytical techniques. I am not sure that my grasp of the theory behind EDM is solid enough to accurately apply it to complex systems or to explore new conceptual areas, and I think that writing such a page (much like teaching a concept to someone else) will help me identify and resolve gaps in my understanding.</li>
<li>Solidify my understanding of the different ways that EDM can incorporate spatial data. I plan to re-read some of the key spatial EDM papers to review the theory and the methods they used, as during my initial read I mostly focused on the introduction, results, and discussion/conclusions. I primarily want to feel more confident in my ability to determine which approach(es) would be most suitable for a given data set.</li>
</ol></li>
<li>Begin looking at the scallop data</li>
</ol>
</section>
</section>
<section id="wednesday-june-7" class="level1">
<h1>Wednesday, June 7</h1>
<p>Today was spent at the 16th Annual BU Bioinformatics Student-Organized Symposium. I found the entire symposium very interesting and filled up five pages of my notebook with concepts, techniques, and papers mentioned in the presentations that I wanted to save to look up on my own later. Here are some examples of things I recorded that were novel to me or that particularly caught my interest:</p>
<ul>
<li>The phyllosphere</li>
<li>Flux Balance Analysis</li>
<li>MacArthur’s consumer-resource model</li>
<li>Genomic epidemiology</li>
</ul>
<p>My favorite part of the symposium was Dr.&nbsp;Alan Pacheco’s presentation on “Mapping Interaction Networks in Plant Microbiomes”, although I also enjoyed PhD candidate Helen Scott’s lightning talk on “Charting Carbon Use Efficiency in Ocean Microbiomes”.</p>
<p>Cool papers mentioned or cited at the conference include:</p>
<ul>
<li>Microbiology of the phyllosphere (<a href="https://doi.org/10.1128%2FAEM.69.4.1875-1883.2003">Lindow and Brandl, 2003</a>)</li>
<li>Mapping phyllosphere microbiota interactions in planta to establish genotype-phenotype relationships (<a href="https://doi.org/10.1038/s41564-022-01132-w">Schäfer et al., 2022</a>)</li>
<li>A protocol for generating a high-quality genome-scale metabolic reconstruction (<a href="https://doi.org/10.1038%2Fnprot.2009.203">Thiele and Palsson, 2010</a>)</li>
<li>What is flux balance analysis? (<a href="https://doi.org/10.1038%2Fnbt.1614">Orth et al., 2010</a>)</li>
<li>Fast automated reconstruction of genome-scale metabolic models for microbial species and communities (<a href="https://doi.org/10.1093/nar/gky537">Machado et al., 2018</a>)</li>
</ul>
</section>
<section id="thursday-june-8" class="level1">
<h1>Thursday, June 8</h1>
<section id="brite-reu-trainings-workshops" class="level2">
<h2 class="anchored" data-anchor-id="brite-reu-trainings-workshops">BRITE REU trainings &amp; workshops</h2>
<p>This morning we had our first programming workshop as part of the BRITE REU program, led by Michael Silverstein. We learned how to access the SSC and set up interactive sessions in Jupyter Notebook and RStudio.</p>
<p>We then had an ethics training alongside students from other REU programs at Boston University. I have had many similar ethics trainings before and am always cognizant of the need to avoid scientific misconduct, but it was interesting to hear the speaker describe several high-profile misconduct cases with which I was unfamiliar (like <a href="https://www.thecrimson.com/article/1981/10/3/cornell-researcher-quits-over-false-cancer/">Mark Spector</a>).</p>
</section>
<section id="edm" class="level2">
<h2 class="anchored" data-anchor-id="edm">EDM</h2>
<p>I spent this afternoon reading and re-reading papers that Dr.&nbsp;Deyle provided related to EDM. I also read more about the basics of dynamical systems theory, which underpins EDM (and indeed, much of modern science). I started working on an <a href="https://rmk118.github.io/lab_notebook/Resources/EDM.html">Intro to EDM</a> page for this site and found that attempting to articulate the concepts in my own words was tremendously helpful in solidifying my understanding of the concepts.</p>
</section>
</section>
<section id="friday-june-9" class="level1">
<h1>Friday, June 9</h1>
<section id="python-practice" class="level2">
<h2 class="anchored" data-anchor-id="python-practice">Python Practice</h2>
<p>This morning I worked through the <a href="https://programming-workshops.readthedocs.io/en/latest/workshops/03_python/index.html">Introduction to Python</a> section of the BRITE Python programming workshop.</p>
</section>
<section id="urop-bbq" class="level2">
<h2 class="anchored" data-anchor-id="urop-bbq">UROP BBQ</h2>
<p>At noon we had the Summer Kick-Off BBQ sponsored by the BU Undergraduate Research Opportunities Program (UROP). I had the chance to talk with some students from BU who are doing chemistry research over the summer. It was interesting to hear about their research, especially in areas (related to inorganic chemistry) that I am less familiar with.</p>
</section>
<section id="edm-meeting" class="level2">
<h2 class="anchored" data-anchor-id="edm-meeting">EDM &amp; Meeting</h2>
<p>In the afternoon I continued to work on the Intro to EDM page. I finished the simplex projection and S-map sections and started on the CCM section. I also had a productive Zoom meeting with Dr.&nbsp;Deyle where we discussed my progress thus far and directions for future work. We focused somewhat on the potential spatial aspect of the project, and he provided examples of spatial EDM papers as well as a list of R packages that are useful for spatial analysis.</p>
</section>
</section>
<section id="references" class="level1">




</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-pousse_juvenile_2023" class="csl-entry" role="listitem">
Pousse, Emilien, Matthew E. Poach, Dylan H. Redman, George Sennefelder, William Hubbard, Kristin Osborne, Daphne Munroe, et al. 2023. <span>“Juvenile Atlantic Sea Scallop, Placopecten Magellanicus, Energetic Response to Increased Carbon Dioxide and Temperature Changes.”</span> <em><span>PLOS</span> Climate</em> 2 (2): e0000142. <a href="https://doi.org/10.1371/journal.pclm.0000142">https://doi.org/10.1371/journal.pclm.0000142</a>.
</div>
<div id="ref-sugihara_detecting_2012" class="csl-entry" role="listitem">
Sugihara, George, Robert May, Hao Ye, Chih-hao Hsieh, Ethan Deyle, Michael Fogarty, and Stephan Munch. 2012. <span>“Detecting Causality in Complex Ecosystems.”</span> <em>Science</em> 338 (6106): 496–500. <a href="https://doi.org/10.1126/science.1227079">https://doi.org/10.1126/science.1227079</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>