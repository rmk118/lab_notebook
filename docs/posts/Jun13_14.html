<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ruby Krasnow">
<meta name="dcterms.date" content="2023-06-14">
<meta name="description" content="Making progress!">

<title>Ruby’s Lab Notebook - Summer 2023 - June 13 &amp; 14</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">
      Ruby's Lab Notebook - Summer 2023
      </li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Ruby’s Lab Notebook - Summer 2023</a> 
    </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Resources</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Resources/Papers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Relevant Papers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Resources/EDM.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Intro to EDM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Resources/ScallopResources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Scallop Links</span></a>
  </div>
</li>
          <li class="sidebar-item">
 <span class="menu-text">Resources/exploringR.html</span>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Project Updates</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../posts/Week1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 1 in Words</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../posts/Week2words.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 2 in Words</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../posts/Week2R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 2 in R</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#reading-papers" id="toc-reading-papers" class="nav-link active" data-scroll-target="#reading-papers">Reading papers</a></li>
  <li><a href="#data-exploration" id="toc-data-exploration" class="nav-link" data-scroll-target="#data-exploration">Data exploration</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">June 13 &amp; 14</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Week 2</div>
    <div class="quarto-category">Data exploration</div>
    <div class="quarto-category">Reading</div>
  </div>
  </div>

<div>
  <div class="description">
    Making progress!
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Ruby Krasnow </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 14, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="reading-papers" class="level3">
<h3 class="anchored" data-anchor-id="reading-papers">Reading papers</h3>
<p>I identified many recent papers that have specifically applied EDM to fisheries, several of which include comprehensive and well-annotated R scripts. I also explored the literature related to Atlantic sea scallops to see which questions have already been thoroughly examined and where I could potentially use EDM (or spatial EDM, sEDM) to fill in gaps in our scientific knowledge or confirm or refute the findings of alternative modeling approaches.</p>
<p>Regardless of which of these topics I focus on, my first step will be to wrangle the dredge survey data to produce scallop time series that can be easily grouped by size, age class, and location. Getting the scallop data into a workable format will allow for an initial exploration of stock-recruitment dynamics, which could potentially be the entire focus of my project. Understanding scallop recruitment and yield-per-recruit, especially within the spatial context of a rotationally-managed fishery— is a fundamental part of accurate modeling and remains an important area of research <span class="citation" data-cites="hart2003 stokesbury2012 bethoney2016">(<a href="#ref-hart2003" role="doc-biblioref">D. Hart 2003</a>; <a href="#ref-stokesbury2012" role="doc-biblioref">Stokesbury 2012</a>; <a href="#ref-bethoney2016" role="doc-biblioref">Bethoney, Asci, and Stokesbury 2016</a>)</span>.</p>
<section id="predation" class="level4">
<h4 class="anchored" data-anchor-id="predation">Predation</h4>
<p>I was first interested in the use of EDM to explore the impact of predation on Atlantic sea scallops, in a similar manner to how <span class="citation" data-cites="liu2022">Liu and Gaines (<a href="#ref-liu2022" role="doc-biblioref">2022</a>)</span> analyzed the interactions between kelp and sea urchins in a Southern California kelp forest. I find predator-prey relationships and interspecies interactions in general to be a fascinating area of ecology. Research on the effects of sea star and crab predation on scallop recruitment in the Mid-Atlantic Bight revealed significant complexity in ecosystem, as unknown environmental variables and significant spatial and temporal variability made it difficult to identify causative relationships <span class="citation" data-cites="hart2006 shank2012">(<a href="#ref-hart2006" role="doc-biblioref">D. R. Hart 2006</a>; <a href="#ref-shank2012" role="doc-biblioref">Shank, Hart, and Friedland 2012</a>)</span>. EDM could potentially be very useful in more conclusively determining causality in this system. However, the time series data for scallop predators appears relatively limited (much shorter than the overall dredge survey), potentially limiting the use of EDM. I will continue to look for predator data that could facilitate an EDM analysis of this interesting system.</p>
<blockquote class="blockquote">
<p>“Nonetheless, due to the lack of quantitative analyses, the causal connection between predation pressure and sea scallop size structure interannual variability remains unknown” <span class="citation" data-cites="zang2023">(<a href="#ref-zang2023" role="doc-biblioref">Zang et al. 2023</a>)</span></p>
</blockquote>
</section>
<section id="natural-mortality" class="level4">
<h4 class="anchored" data-anchor-id="natural-mortality">Natural mortality</h4>
<p>Estimating natural mortality (M) is an issue of ongoing concern in fisheries management worldwide <span class="citation" data-cites="hamel2023 kenchington2014">(e.g., <a href="#ref-hamel2023" role="doc-biblioref">Hamel et al. 2023</a>; <a href="#ref-kenchington2014" role="doc-biblioref">Kenchington 2014</a>)</span>. <span class="citation" data-cites="hart2022">D. R. Hart and Chang (<a href="#ref-hart2022" role="doc-biblioref">2022</a>)</span> recently improved the performance of size-based scallop stock assessment models by estimating temporally variable natural mortality, rather than the historical approach of using a fixed value of M (e.g., M=0.16 for closed areas of Georges Bank). However, the likely density-dependence, spatial and temporal variability, and potential confounding of natural mortality with fishing mortality present challenges when attempting to use traditional modeling approaches to uncover the dynamics of the system <span class="citation" data-cites="hart2022">(<a href="#ref-hart2022" role="doc-biblioref">D. R. Hart and Chang 2022</a>)</span>. Additionally, the stock assessment framework underlying previous examinations of scallop natural mortality may be obscuring the true nonlinear dynamics of the system, as stock assessment models often overestimate stability and underestimate predictability, with potentially significant implications for fisheries management <span class="citation" data-cites="storch2017">(<a href="#ref-storch2017" role="doc-biblioref">Storch et al. 2017</a>)</span>.</p>
</section>
<section id="comprehensive-model" class="level4">
<h4 class="anchored" data-anchor-id="comprehensive-model">Comprehensive model</h4>
<p>The other route that I am exploring would be something related to creating an sEDM analog to the model(s) used by <span class="citation" data-cites="zang2023">Zang et al. (<a href="#ref-zang2023" role="doc-biblioref">2023</a>)</span>, <span class="citation" data-cites="cooley2015">Cooley et al. (<a href="#ref-cooley2015" role="doc-biblioref">2015</a>)</span>, or <span class="citation" data-cites="rheuban2018">Rheuban et al. (<a href="#ref-rheuban2018" role="doc-biblioref">2018</a>)</span>. Input data would likely be size data from the dredge surveys, temperature and ocean carbonate chemistry (could use FVCOM), and food availability (primary production/phytoplankton). These models have been extremely valuable to understand how rising temperatures, ocean acidification, and fishing pressure impact scallop populations, bringing us closer to true ecosystem-based management for one of North America’s most economically valuable fisheries. However, they rely on population dynamic models based on the von Bertalanffy growth function and growth matrices, with specific growth, weight, and mortality parameters. As our knowledge of scallop physiology and life history continues to expand, it is becoming more clear that the processes relevant to the creation of these models can be highly state-dependent, so using sEDM instead of a model relying on fixed parameters could potentially yield improved forecasts of scallop abundance. For example, the first experiment on scallop response to increased CO<sub>2</sub> and temperature showed that the independent effects of CO<sub>2</sub> and temperature change once a CO<sub>2</sub> threshold is reached <span class="citation" data-cites="pousse2023">(<a href="#ref-pousse2023" role="doc-biblioref">Pousse et al. 2023</a>)</span>. No studies have yet utilized this insight when predicting the impacts of climate change and ocean acidification on the scallop fishery; a project using EDM to explore these impacts would therefore be the first not to rely on a model that is inconsistent with recently-uncovered mechanistic relationships. However, creating and testing such a model would be a highly involved process and may not be feasible within the remainder of the summer.</p>
</section>
</section>
<section id="data-exploration" class="level2">
<h2 class="anchored" data-anchor-id="data-exploration">Data exploration</h2>
<p>Load packages</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Set-up (from June 12)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#read data</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>svcat <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"~/Downloads/lab_notebook/data/22564_UNION_FSCS_SVCAT.csv"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">#filter to only species of interest - reduces it from 94632 observations to 21425</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>scallops <span class="ot">&lt;-</span> svcat <span class="sc">%&gt;%</span> </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(SCIENTIFIC_NAME<span class="sc">==</span><span class="st">"Placopecten magellanicus (sea scallop)"</span> <span class="sc">|</span> </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>           SCIENTIFIC_NAME <span class="sc">==</span><span class="st">"Placopecten magellanicus (sea scallop clapper)"</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co">#turn categorical variables into factors</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>scallops <span class="ot">&lt;-</span> scallops <span class="sc">%&gt;%</span> </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">name =</span> SCIENTIFIC_NAME,</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">cruise6 =</span> <span class="fu">as.factor</span>(CRUISE6),</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">cruise =</span> <span class="fu">as.factor</span>(CRUISE),</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">sex =</span> <span class="fu">as.factor</span>(CATCHSEX),</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">stratum =</span> <span class="fu">as.factor</span>(STRATUM),</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>         <span class="at">.keep =</span> <span class="st">"unused"</span>)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="co">#shorten for clarity</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>scallops <span class="ot">&lt;-</span> scallops <span class="sc">%&gt;%</span> </span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">name =</span> <span class="fu">recode</span>(name, <span class="st">"Placopecten magellanicus (sea scallop)"</span> <span class="ot">=</span> <span class="st">"scallop"</span>, </span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"Placopecten magellanicus (sea scallop clapper)"</span> <span class="ot">=</span> <span class="st">"clapper"</span>))</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="co">#Remove unnecessary/redundant variables: all entries are listed as unknown sex (sex=0), </span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="co"># all have the same status code (10), and SVSPP corresponds with name (401 = scallop, </span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="co"># 400 = clappers)</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>scallops <span class="ot">&lt;-</span> scallops <span class="sc">%&gt;%</span> </span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"sex"</span>, <span class="st">"STATUS_CODE"</span>, <span class="st">"SVSPP"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>First, I needed to turn the data into an actual time series:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#read the file that has the season and year associated with each cruise</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>cruises <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"~/Downloads/lab_notebook/data/22564_SVDBS_CRUISES.csv"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">#select the relevant variables</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>cruises <span class="ot">&lt;-</span> cruises <span class="sc">%&gt;%</span> </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">"CRUISE6"</span>,<span class="st">"SEASON"</span>,<span class="st">"YEAR"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cruise6 =</span> <span class="fu">as.factor</span>(CRUISE6), <span class="at">.keep=</span><span class="st">"unused"</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co">#combine with the existing dataframe</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>scallops <span class="ot">&lt;-</span> <span class="fu">left_join</span>(scallops, cruises, <span class="at">by=</span><span class="st">"cruise6"</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="fu">as_tibble</span>(scallops)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 21,425 × 12
     TOW STATION ID         EXPCA…¹ EXPCA…² CATCH…³ name  cruise6 cruise stratum
   &lt;int&gt;   &lt;int&gt; &lt;chr&gt;        &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt; &lt;fct&gt;   &lt;fct&gt;  &lt;fct&gt;  
 1     1       1 197703063…       4     0.3 " "     scal… 197703  177    06370  
 2     2       2 197703063…       3     0.1 " "     scal… 197703  177    06370  
 3     3       3 197703063…       2     0.3 " "     scal… 197703  177    06370  
 4     1       4 197703063…       4     0.9 " "     scal… 197703  177    06380  
 5     4       5 197703063…      12     1.7 " "     scal… 197703  177    06370  
 6     5       6 197703063…      22     4.6 " "     scal… 197703  177    06370  
 7     1       8 197703064…       1     0.1 " "     scal… 197703  177    06420  
 8     1      13 197703065…       2     0.3 " "     scal… 197703  177    06500  
 9     2      14 197703065…       7     0   " "     clap… 197703  177    06500  
10     2      14 197703065…    1897   154.  " "     scal… 197703  177    06500  
# … with 21,415 more rows, 2 more variables: SEASON &lt;chr&gt;, YEAR &lt;int&gt;, and
#   abbreviated variable names ¹​EXPCATCHNUM, ²​EXPCATCHWT, ³​CATCH_COMMENT</code></pre>
</div>
</div>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-bethoney2016" class="csl-entry" role="listitem">
Bethoney, N. David, Samuel Asci, and Kevin D. E. Stokesbury. 2016. <span>“Implications of Extremely High Recruitment Events into the US Sea Scallop Fishery.”</span> <em>Marine Ecology Progress Series</em> 547 (April): 137–47. <a href="https://doi.org/10.3354/meps11666">https://doi.org/10.3354/meps11666</a>.
</div>
<div id="ref-cooley2015" class="csl-entry" role="listitem">
Cooley, Sarah R., Jennie E. Rheuban, Deborah R. Hart, Victoria Luu, David M. Glover, Jonathan A. Hare, and Scott C. Doney. 2015. <span>“An Integrated Assessment Model for Helping the United States Sea Scallop (Placopecten Magellanicus) Fishery Plan Ahead for Ocean Acidification and Warming.”</span> <em>PLOS ONE</em> 10 (5): e0124145. <a href="https://doi.org/10.1371/journal.pone.0124145">https://doi.org/10.1371/journal.pone.0124145</a>.
</div>
<div id="ref-hamel2023" class="csl-entry" role="listitem">
Hamel, Owen S., James N. Ianelli, Mark N. Maunder, and André E. Punt. 2023. <span>“Natural Mortality: Theory, Estimation and Application in Fishery Stock Assessment Models.”</span> <em>Fisheries Research</em> 261 (May): 106638. <a href="https://doi.org/10.1016/j.fishres.2023.106638">https://doi.org/10.1016/j.fishres.2023.106638</a>.
</div>
<div id="ref-hart2006" class="csl-entry" role="listitem">
Hart, Deborah R. 2006. <span>“Effects of Sea Stars and Crabs on Sea Scallop Placopecten Magellanicus Recruitment in the Mid-Atlantic Bight (USA).”</span> <em>Marine Ecology Progress Series</em> 306: 209–21. <a href="https://www.jstor.org/stable/24869914">https://www.jstor.org/stable/24869914</a>.
</div>
<div id="ref-hart2022" class="csl-entry" role="listitem">
Hart, Deborah R., and Jui-Han Chang. 2022. <span>“Estimating Natural Mortality for Atlantic Sea Scallops (Placopecten Magellenicus) Using a Size-Based Stock Assessment Model.”</span> <em>Fisheries Research</em> 254 (October): 106423. <a href="https://doi.org/10.1016/j.fishres.2022.106423">https://doi.org/10.1016/j.fishres.2022.106423</a>.
</div>
<div id="ref-hart2003" class="csl-entry" role="listitem">
Hart, Dvora. 2003. <span>“Yield- and Biomass-Per-Recruit Analysis for Rotational Fisheries, with an Application to the Atlantic Sea Scallop (Placopecten Magellanicus).”</span> <em>Fishery Bulletin - National Oceanic and Atmospheric Administration</em> 101 (January): 44–57. <a href="https://www.researchgate.net/publication/279700466_Yield-_and_biomass-per-recruit_analysis_for_rotational_fisheries_with_an_application_to_the_Atlantic_sea_scallop_Placopecten_magellanicus">https://www.researchgate.net/publication/279700466_Yield-_and_biomass-per-recruit_analysis_for_rotational_fisheries_with_an_application_to_the_Atlantic_sea_scallop_Placopecten_magellanicus</a>.
</div>
<div id="ref-kenchington2014" class="csl-entry" role="listitem">
Kenchington, Trevor J. 2014. <span>“Natural Mortality Estimators for Information-Limited Fisheries.”</span> <em>Fish and Fisheries</em> 15 (4): 533–62. <a href="https://doi.org/10.1111/faf.12027">https://doi.org/10.1111/faf.12027</a>.
</div>
<div id="ref-liu2022" class="csl-entry" role="listitem">
Liu, Owen R., and Steven D. Gaines. 2022. <span>“Environmental Context Dependency in Species Interactions.”</span> <em>Proceedings of the National Academy of Sciences</em> 119 (36): e2118539119. <a href="https://doi.org/10.1073/pnas.2118539119">https://doi.org/10.1073/pnas.2118539119</a>.
</div>
<div id="ref-pousse2023" class="csl-entry" role="listitem">
Pousse, Emilien, Matthew E. Poach, Dylan H. Redman, George Sennefelder, William Hubbard, Kristin Osborne, Daphne Munroe, et al. 2023. <span>“Juvenile Atlantic Sea Scallop, Placopecten Magellanicus, Energetic Response to Increased Carbon Dioxide and Temperature Changes.”</span> <em>PLOS Climate</em> 2 (2): e0000142. <a href="https://doi.org/10.1371/journal.pclm.0000142">https://doi.org/10.1371/journal.pclm.0000142</a>.
</div>
<div id="ref-rheuban2018" class="csl-entry" role="listitem">
Rheuban, Jennie E., Scott C. Doney, Sarah R. Cooley, and Deborah R. Hart. 2018. <span>“Projected Impacts of Future Climate Change, Ocean Acidification, and Management on the US Atlantic Sea Scallop (Placopecten Magellanicus) Fishery.”</span> <em>PLOS ONE</em> 13 (9): e0203536. <a href="https://doi.org/10.1371/journal.pone.0203536">https://doi.org/10.1371/journal.pone.0203536</a>.
</div>
<div id="ref-shank2012" class="csl-entry" role="listitem">
Shank, Burton V., Deborah R. Hart, and Kevin D. Friedland. 2012. <span>“Post-Settlement Predation by Sea Stars and Crabs on the Sea Scallop in the Mid-Atlantic Bight.”</span> <em>Marine Ecology Progress Series</em> 468 (November): 161–77. <a href="https://doi.org/10.3354/meps09974">https://doi.org/10.3354/meps09974</a>.
</div>
<div id="ref-stokesbury2012" class="csl-entry" role="listitem">
Stokesbury, Kevin D. E. 2012. <span>“Stock Definition and Recruitment: Implications for the u.s. Sea Scallop (Placopecten Magellanicus) Fishery from 2003 to 2011.”</span> <em>Reviews in Fisheries Science</em> 20 (3): 154–64. <a href="https://doi.org/10.1080/10641262.2012.695816">https://doi.org/10.1080/10641262.2012.695816</a>.
</div>
<div id="ref-storch2017" class="csl-entry" role="listitem">
Storch, Laura S., Sarah M. Glaser, Hao Ye, and Andrew A. Rosenberg. 2017. <span>“Stock Assessment and End-to-End Ecosystem Models Alter Dynamics of Fisheries Data.”</span> <em>PLOS ONE</em> 12 (2): e0171644. <a href="https://doi.org/10.1371/journal.pone.0171644">https://doi.org/10.1371/journal.pone.0171644</a>.
</div>
<div id="ref-zang2023" class="csl-entry" role="listitem">
Zang, Z, R Ji, D R Hart, D Jin, C Chen, Y Liu, and C S Davis. 2023. <span>“Effects of Warming and Fishing on Atlantic Sea Scallop (Placopecten Magellanicus) Size Structure in the Mid-Atlantic Rotationally Closed Areas.”</span> <em>ICES Journal of Marine Science</em>, April, fsad063. <a href="https://doi.org/10.1093/icesjms/fsad063">https://doi.org/10.1093/icesjms/fsad063</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>